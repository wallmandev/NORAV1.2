{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/christofferwallman/Desktop/Utveckling/NORAV1.2/src/components/OnboardingLoader.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { CheckCircle2, Sparkles, Globe, BrainCircuit } from 'lucide-react';\nimport { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n// Helper för renare tailwind-klasser\nfunction cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\ninterface OnboardingLoaderProps {\n  url: string;\n  onReady: () => void;\n  scrapedPageCount: number | null; // Ny prop för faktiskt antal sidor\n}\n\nexport const OnboardingLoader: React.FC<OnboardingLoaderProps> = ({ url, onReady, scrapedPageCount }) => {\n  const [progress, setProgress] = useState(0);\n  const [currentStep, setCurrentStep] = useState(0);\n\n  // Status-stegen\n  const steps = [\n    {\n      id: 0,\n      text: `Ansluter till ${url}...`,\n      icon: Globe,\n      duration: 5000, // 5s\n      progressEnd: 15\n    },\n    {\n      id: 1,\n      // Använd dynamiskt antal om tillgängligt, annars \"...\"\n      text: scrapedPageCount \n        ? `Hittade ${scrapedPageCount} sidor. Läser prissättning och tjänster...`\n        : \"Letar efter undersidor...\",\n      icon: Sparkles,\n      duration: 10000, // 10s\n      progressEnd: 50\n    },\n    {\n      id: 2,\n      text: \"Analyserar kärnverksamhet och villkor. Genererar Noras kunskapsbas...\",\n      icon: BrainCircuit,\n      duration: 15000, // 15s\n      progressEnd: 95\n    },\n    {\n      id: 3,\n      text: \"Klar! NORA förstår nu din verksamhet.\",\n      icon: CheckCircle2,\n      duration: 0,\n      progressEnd: 100\n    }\n  ];\n\n  useEffect(() => {\n    let timer: NodeJS.Timeout;\n    let startTime = Date.now();\n    let animationFrame: number;\n    \n    // Hantera tidslinjen\n    const runSequence = () => {\n      const now = Date.now();\n      const elapsed = now - startTime;\n\n      // STEG 1: Initiering (0-5s)\n      if (elapsed < 5000) {\n        setCurrentStep(0);\n        setProgress(Math.min(15, (elapsed / 5000) * 15));\n      } \n      // STEG 2: Väntar på scraping (5s -> tills klar)\n      else if (!scrapedPageCount) {\n        // Vi stannar kvar på steg 0 eller 1 \"Letar...\" tills vi fått svar\n        // Men vi kan fejka en långsam progress upp till 45% så det inte ser dött ut\n        setCurrentStep(0); // Eller byt till en \"Searching...\" status\n        const slowProgress = 15 + Math.min(30, (elapsed - 5000) / 1000); // Segar sig uppåt\n        setProgress(slowProgress);\n      }\n      // STEG 3: Scraping klar, kör analys-stegen (snabbspola eller kör normalt)\n      else if (currentStep < 2) {\n         // Hoppa direkt till \"Hittade X sidor\" och fortsätt därifrån\n         setCurrentStep(1); \n         // Nu låter vi den köra klart sina animationer lite snabbare för bra flow\n         // ... (förenklad logik för demo: vi låter den bara ticka vidare baserat på tid nu)\n      }\n\n      // FÖRENKLAD LOGIK FÖR DEMO (Ersätter ovanstående komplexitet för stabilitet):\n      // Vi kör en ren tidsbaserad loop, men uppdaterar TEXTEN dynamiskt i steps[1].\n      // Om scrapingen går supersnabbt hinner man kanske inte se \"Letar...\", men det är ok.\n      \n      if (elapsed < 5000) {\n         setCurrentStep(0);\n         setProgress((elapsed / 5000) * 15);\n      } else if (elapsed < 12000) {\n         setCurrentStep(1);\n         // 15 -> 50\n         const p = (elapsed - 5000) / 7000;\n         setProgress(15 + p * 35);\n      } else if (elapsed < 20000) {\n         setCurrentStep(2);\n         // 50 -> 95\n         const p = (elapsed - 12000) / 8000;\n         setProgress(50 + p * 45);\n      } else {\n         setCurrentStep(3);\n         setProgress(100);\n         return;\n      }\n\n      animationFrame = requestAnimationFrame(runSequence);\n    };\n\n    animationFrame = requestAnimationFrame(runSequence);\n\n    return () => cancelAnimationFrame(animationFrame);\n  }, []); // Notera: Vi borde ha scrapedPageCount i deps om vi vill reagera direkt, men för text-uppdateringen räcker det att komponenten renderas om.\n\n  const isComplete = currentStep === 3;\n\n  return (\n    <div className=\"flex flex-col items-center justify-center w-full max-w-md mx-auto p-6 text-center space-y-8\">\n      \n      {/* 1. Animerad AI-cirkel (Pulse effect) */}\n      <div className=\"relative flex items-center justify-center\">\n        {/* Yttre glöd */}\n        <motion.div\n          animate={{ scale: [1, 1.2, 1], opacity: [0.3, 0.1, 0.3] }}\n          transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\n          className=\"absolute w-32 h-32 rounded-full bg-violet-600 blur-2xl\"\n        />\n        \n        {/* Inre cirkel */}\n        <div className=\"relative bg-white/5 backdrop-blur-sm border border-violet-500/30 w-24 h-24 rounded-full flex items-center justify-center shadow-2xl\">\n           <AnimatePresence mode='wait'>\n            <motion.div\n              key={steps[currentStep].id}\n              initial={{ opacity: 0, scale: 0.5, rotate: -20 }}\n              animate={{ opacity: 1, scale: 1, rotate: 0 }}\n              exit={{ opacity: 0, scale: 0.5, rotate: 20 }}\n              transition={{ duration: 0.3 }}\n            >\n              {React.createElement(steps[currentStep].icon, {\n                className: cn(\n                  \"w-10 h-10 transition-colors duration-500\",\n                  isComplete ? \"text-green-400\" : \"text-violet-400\"\n                )\n              })}\n            </motion.div>\n          </AnimatePresence>\n        </div>\n      </div>\n\n      {/* 2. Status Ticker */}\n      <div className=\"h-24 w-full flex flex-col items-center justify-center overflow-hidden\">\n        <AnimatePresence mode='wait'>\n          <motion.h2\n            key={steps[currentStep].id}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            transition={{ duration: 0.5, ease: \"easeOut\" }}\n            className=\"text-xl font-medium text-black\"\n          >\n            {steps[currentStep].text}\n          </motion.h2>\n        </AnimatePresence>\n        \n        {/* Progress bar */}\n        <div className=\"w-full h-1.5 bg-slate-800 rounded-full mt-4 overflow-hidden relative\">\n          <motion.div \n            className=\"h-full bg-gradient-to-r from-violet-600 to-indigo-500 shadow-[0_0_10px_rgba(124,58,237,0.5)]\"\n            initial={{ width: \"0%\" }}\n            animate={{ width: `${progress}%` }}\n            transition={{ ease: \"linear\" }}\n          />\n        </div>\n      </div>\n\n      {/* 3. Förtroendebyggande text */}\n      {!isComplete && (\n        <motion.p \n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 1 }}\n          className=\"text-xs text-slate-400 max-w-xs leading-relaxed\"\n        >\n          NORA läser just nu igenom er unika data för att kunna ge exakta svar och representera ert varumärke perfekt. Detta säkerställer att inga hallucinationer sker.\n        </motion.p>\n      )}\n\n      {/* 4. Action Button (Visas när klar) */}\n      <AnimatePresence>\n        {isComplete && (\n          <motion.div\n            initial={{ opacity: 0, y: 20, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            transition={{ type: \"spring\", stiffness: 200, damping: 20 }}\n            className=\"w-full pt-4\"\n          >\n            <button\n              onClick={onReady}\n              className=\"group relative w-full py-3.5 px-6 rounded-xl bg-violet-600 hover:bg-violet-500 text-white font-semibold shadow-lg shadow-violet-500/25 transition-all active:scale-[0.98]\"\n            >\n              <span className=\"flex items-center justify-center gap-2\">\n                Starta chatten med NORA\n                <Sparkles className=\"w-4 h-4 text-violet-200 group-hover:text-white transition-colors\" />\n              </span>\n              \n              {/* Shine effekt */}\n              {/* Uppdaterad med 'animate-shimmer' istället för inline styles */}\n              <div className=\"absolute inset-0 rounded-xl overflow-hidden pointer-events-none\">\n                <div className=\"absolute top-0 left-[-100%] w-1/2 h-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-[-20deg] animate-shimmer\" />\n              </div>\n            </button>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;AAEA,qCAAqC;AACrC,SAAS,GAAG,GAAG,MAAoB;IACjC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAQO,MAAM,mBAAoD,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,gBAAgB,EAAE;;IAClG,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,gBAAgB;IAChB,MAAM,QAAQ;QACZ;YACE,IAAI;YACJ,MAAM,CAAC,cAAc,EAAE,IAAI,GAAG,CAAC;YAC/B,MAAM,gNAAK;YACX,UAAU;YACV,aAAa;QACf;QACA;YACE,IAAI;YACJ,uDAAuD;YACvD,MAAM,mBACF,CAAC,QAAQ,EAAE,iBAAiB,0CAA0C,CAAC,GACvE;YACJ,MAAM,yNAAQ;YACd,UAAU;YACV,aAAa;QACf;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,yOAAY;YAClB,UAAU;YACV,aAAa;QACf;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,wOAAY;YAClB,UAAU;YACV,aAAa;QACf;KACD;IAED,IAAA,0KAAS;sCAAC;YACR,IAAI;YACJ,IAAI,YAAY,KAAK,GAAG;YACxB,IAAI;YAEJ,qBAAqB;YACrB,MAAM;0DAAc;oBAClB,MAAM,MAAM,KAAK,GAAG;oBACpB,MAAM,UAAU,MAAM;oBAEtB,4BAA4B;oBAC5B,IAAI,UAAU,MAAM;wBAClB,eAAe;wBACf,YAAY,KAAK,GAAG,CAAC,IAAI,AAAC,UAAU,OAAQ;oBAC9C,OAEK,IAAI,CAAC,kBAAkB;wBAC1B,kEAAkE;wBAClE,4EAA4E;wBAC5E,eAAe,IAAI,0CAA0C;wBAC7D,MAAM,eAAe,KAAK,KAAK,GAAG,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,OAAO,kBAAkB;wBACnF,YAAY;oBACd,OAEK,IAAI,cAAc,GAAG;wBACvB,4DAA4D;wBAC5D,eAAe;oBACf,yEAAyE;oBACzE,mFAAmF;oBACtF;oBAEA,8EAA8E;oBAC9E,8EAA8E;oBAC9E,qFAAqF;oBAErF,IAAI,UAAU,MAAM;wBACjB,eAAe;wBACf,YAAY,AAAC,UAAU,OAAQ;oBAClC,OAAO,IAAI,UAAU,OAAO;wBACzB,eAAe;wBACf,WAAW;wBACX,MAAM,IAAI,CAAC,UAAU,IAAI,IAAI;wBAC7B,YAAY,KAAK,IAAI;oBACxB,OAAO,IAAI,UAAU,OAAO;wBACzB,eAAe;wBACf,WAAW;wBACX,MAAM,IAAI,CAAC,UAAU,KAAK,IAAI;wBAC9B,YAAY,KAAK,IAAI;oBACxB,OAAO;wBACJ,eAAe;wBACf,YAAY;wBACZ;oBACH;oBAEA,iBAAiB,sBAAsB;gBACzC;;YAEA,iBAAiB,sBAAsB;YAEvC;8CAAO,IAAM,qBAAqB;;QACpC;qCAAG,EAAE,GAAG,4IAA4I;IAEpJ,MAAM,aAAa,gBAAgB;IAEnC,qBACE,6LAAC;QAAI,WAAU;;0BAGb,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC,uMAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,OAAO;gCAAC;gCAAG;gCAAK;6BAAE;4BAAE,SAAS;gCAAC;gCAAK;gCAAK;6BAAI;wBAAC;wBACxD,YAAY;4BAAE,UAAU;4BAAG,QAAQ;4BAAU,MAAM;wBAAY;wBAC/D,WAAU;;;;;;kCAIZ,6LAAC;wBAAI,WAAU;kCACZ,cAAA,6LAAC,+MAAe;4BAAC,MAAK;sCACrB,cAAA,6LAAC,uMAAM,CAAC,GAAG;gCAET,SAAS;oCAAE,SAAS;oCAAG,OAAO;oCAAK,QAAQ,CAAC;gCAAG;gCAC/C,SAAS;oCAAE,SAAS;oCAAG,OAAO;oCAAG,QAAQ;gCAAE;gCAC3C,MAAM;oCAAE,SAAS;oCAAG,OAAO;oCAAK,QAAQ;gCAAG;gCAC3C,YAAY;oCAAE,UAAU;gCAAI;0CAE3B,cAAA,wKAAK,CAAC,aAAa,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,EAAE;oCAC5C,WAAW,GACT,4CACA,aAAa,mBAAmB;gCAEpC;+BAXK,KAAK,CAAC,YAAY,CAAC,EAAE;;;;;;;;;;;;;;;;;;;;;0BAkBlC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+MAAe;wBAAC,MAAK;kCACpB,cAAA,6LAAC,uMAAM,CAAC,EAAE;4BAER,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAG;4BAC7B,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAC5B,MAAM;gCAAE,SAAS;gCAAG,GAAG,CAAC;4BAAG;4BAC3B,YAAY;gCAAE,UAAU;gCAAK,MAAM;4BAAU;4BAC7C,WAAU;sCAET,KAAK,CAAC,YAAY,CAAC,IAAI;2BAPnB,KAAK,CAAC,YAAY,CAAC,EAAE;;;;;;;;;;kCAY9B,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,uMAAM,CAAC,GAAG;4BACT,WAAU;4BACV,SAAS;gCAAE,OAAO;4BAAK;4BACvB,SAAS;gCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;4BAAC;4BACjC,YAAY;gCAAE,MAAM;4BAAS;;;;;;;;;;;;;;;;;YAMlC,CAAC,4BACA,6LAAC,uMAAM,CAAC,CAAC;gBACP,SAAS;oBAAE,SAAS;gBAAE;gBACtB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,YAAY;oBAAE,OAAO;gBAAE;gBACvB,WAAU;0BACX;;;;;;0BAMH,6LAAC,+MAAe;0BACb,4BACC,6LAAC,uMAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAI,OAAO;oBAAK;oBAC1C,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAG,OAAO;oBAAE;oBACtC,YAAY;wBAAE,MAAM;wBAAU,WAAW;wBAAK,SAAS;oBAAG;oBAC1D,WAAU;8BAEV,cAAA,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC;gCAAK,WAAU;;oCAAyC;kDAEvD,6LAAC,yNAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAKtB,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ/B;GA3Ma;KAAA"}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///Users/christofferwallman/Desktop/Utveckling/NORAV1.2/src/components/ChatInterface.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Send, Bot, User, Sparkles } from 'lucide-react';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\n\ninterface ChatInterfaceProps {\n  companyId: string; // Viktigt för att NORA ska veta vilken data hon ska söka i\n  onSignupClick?: () => void; // Ny prop för att hantera signup-klick\n}\n\ninterface Message {\n  role: 'user' | 'assistant';\n  content: string;\n  sources?: string[];\n}\n\nexport const ChatInterface: React.FC<ChatInterfaceProps> = ({ companyId, onSignupClick }) => {\n  const [messages, setMessages] = useState<Message[]>([\n    { role: 'assistant', content: 'Hej! Jag är NORA. Jag har läst på om er verksamhet. Vad vill du veta?' }\n  ]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  \n  const isDemo = companyId.startsWith('demo-');\n\n  // Auto-scroll till botten\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = async (e?: React.FormEvent) => {\n    e?.preventDefault();\n    if (!inputValue.trim() || isLoading) return;\n\n    const userMsg = inputValue.trim();\n    setInputValue('');\n    \n    // 1. Lägg till användarens meddelande i listan direkt\n    // Vi lägger INTE till någon tom assistent-bubbla här än.\n    setMessages(prev => [\n      ...prev, \n      { role: 'user', content: userMsg }\n    ]);\n    \n    // 2. Visa laddningsindikatorn\n    setIsLoading(true);\n\n    try {\n      // Skapa payload med historik för API:et\n      const payloadMessages = [\n        ...messages,\n        { role: 'user', content: userMsg }\n      ];\n\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          messages: payloadMessages, \n          companyId: companyId \n        }),\n      });\n\n      if (!response.ok || !response.body) {\n        throw new Error(response.statusText);\n      }\n\n      // Läs ut källor från headers (om de finns)\n      const sourcesHeader = response.headers.get('X-Sources');\n      let sources: string[] = [];\n      try {\n        if (sourcesHeader) {\n          sources = JSON.parse(sourcesHeader);\n        }\n      } catch (e) {\n        console.error(\"Failed to parse sources\", e);\n      }\n\n      // Förbered streaming\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let done = false;\n      let accumulatedText = \"\";\n\n      // 3. Nu när svaret börjar komma, dölj laddningsindikatorn\n      setIsLoading(false);\n\n      while (!done) {\n        const { value, done: doneReading } = await reader.read();\n        done = doneReading;\n        const chunkValue = decoder.decode(value, { stream: true });\n        accumulatedText += chunkValue;\n\n        // 4. Uppdatera meddelandelistan i realtid\n        setMessages(prev => {\n          const newMessages = [...prev];\n          const lastMsg = newMessages[newMessages.length - 1];\n          \n          // Om sista meddelandet är från assistenten, fyll på texten\n          if (lastMsg.role === 'assistant') {\n            lastMsg.content = accumulatedText;\n            return newMessages;\n          } else {\n            // Om sista meddelandet fortfarande är användaren (första databitarna),\n            // skapa en NY assistent-bubbla nu.\n            return [\n              ...newMessages,\n              { role: 'assistant', content: accumulatedText }\n            ];\n          }\n        });\n      }\n\n      // 5. Efter streamen är klar, lägg till källor i meddelandet om det finns några\n      if (sources && sources.length > 0) {\n        setMessages(prev => {\n          const newMessages = [...prev];\n          const lastMsg = newMessages[newMessages.length - 1];\n          if (lastMsg.role === 'assistant') {\n            lastMsg.sources = Array.from(new Set(sources));\n          }\n          return newMessages;\n        });\n      }\n\n    } catch (error) {\n      console.error(error);\n      \n      // Vid fel: Se till att vi visar ett felmeddelande i chatten\n      setMessages(prev => {\n        const newMessages = [...prev];\n        const lastMsg = newMessages[newMessages.length - 1];\n        \n        // Om vi har en påbörjad assistent-bubbla, skriv felet där\n        if (lastMsg.role === 'assistant') {\n           if (!lastMsg.content) lastMsg.content = \"Hoppsan, jag tappade tråden lite. Kan du försöka igen?\";\n           return newMessages;\n        } else {\n           // Annars skapa en ny bubbla med felmeddelandet\n           return [\n             ...newMessages,\n             { role: 'assistant', content: \"Hoppsan, jag tappade tråden lite. Kan du försöka igen?\" }\n           ];\n        }\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-[600px] w-full max-w-2xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden border border-slate-100\">\n      \n      {/* Header */}\n      <div className=\"bg-slate-50 p-4 border-b border-slate-100 flex items-center justify-between gap-3\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-full bg-violet-600 flex items-center justify-center shadow-lg shadow-violet-200\">\n             <Bot className=\"text-white w-6 h-6\" />\n          </div>\n          <div>\n            <h3 className=\"font-semibold text-slate-800\">NORA Demo</h3>\n            <p className=\"text-xs text-slate-500 flex items-center gap-1\">\n              <span className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" />\n              Online & Utbildad på din data\n            </p>\n          </div>\n        </div>\n        \n        {isDemo && (\n          <button \n            onClick={() => onSignupClick ? onSignupClick() : window.location.href = `/signup?companyId=${companyId}`}\n            className=\"hidden sm:flex items-center gap-2 px-4 py-2 bg-slate-900 text-white text-sm font-medium rounded-lg hover:bg-slate-800 transition-colors\"\n          >\n            Spara min bot\n          </button>\n        )}\n      </div>\n\n      {/* Messages Area */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-6 bg-slate-50/50\">\n        {messages.map((msg, idx) => (\n          <motion.div\n            key={idx}\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            className={`flex gap-3 ${msg.role === 'user' ? 'flex-row-reverse' : ''}`}\n          >\n            {/* Avatar */}\n            <div className={`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${\n              msg.role === 'user' ? 'bg-slate-200' : 'bg-violet-100'\n            }`}>\n              {msg.role === 'user' ? (\n                <User className=\"w-5 h-5 text-slate-500\" />\n              ) : (\n                <Sparkles className=\"w-5 h-5 text-violet-600\" />\n              )}\n            </div>\n\n            {/* Bubble */}\n            <div className={`max-w-[80%] p-4 rounded-2xl text-sm leading-relaxed shadow-sm ${\n              msg.role === 'user' \n                ? 'bg-violet-600 text-white rounded-tr-none' \n                : 'bg-white text-slate-700 border border-slate-100 rounded-tl-none'\n            }`}>\n              {/* Only render Markdown for assistant messages to avoid hydration errors on simple user text */}\n              {msg.role === 'assistant' ? (\n                <div className=\"markdown-content space-y-2\">\n                  <ReactMarkdown \n                    remarkPlugins={[remarkGfm]}\n                    components={{\n                      p: ({node, ...props}) => <p className=\"mb-2 last:mb-0\" {...props} />,\n                      ul: ({node, ...props}) => <ul className=\"list-disc pl-4 mb-2 space-y-1\" {...props} />,\n                      ol: ({node, ...props}) => <ol className=\"list-decimal pl-4 mb-2 space-y-1\" {...props} />,\n                      li: ({node, ...props}) => <li className=\"\" {...props} />,\n                      strong: ({node, ...props}) => <strong className=\"font-semibold text-slate-900\" {...props} />,\n                      a: ({node, ...props}) => <a className=\"text-violet-600 hover:underline\" target=\"_blank\" rel=\"noopener noreferrer\" {...props} />,\n                    }}\n                  >\n                    {msg.content}\n                  </ReactMarkdown>\n                </div>\n              ) : (\n                <p>{msg.content}</p>\n              )}\n\n              {/* Visa källor om det är assistenten och källor finns */}\n              {msg.role === 'assistant' && msg.sources && msg.sources.length > 0 && (\n                <div className=\"mt-3 pt-3 border-t border-slate-100\">\n                  <p className=\"text-xs text-slate-400 font-medium mb-2\">Källor:</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {msg.sources.map((source, i) => {\n                      let hostname = source;\n                      try {\n                        hostname = new URL(source).hostname;\n                      } catch (e) {} // Fallback om URL är ogiltig\n                      \n                      return (\n                        <a \n                          key={i} \n                          href={source} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\"\n                          className=\"px-2 py-1 bg-slate-50 border border-slate-200 rounded text-xs text-violet-600 hover:bg-violet-50 transition-colors truncate max-w-[200px] block\"\n                          title={source}\n                        >\n                          {hostname}\n                        </a>\n                      );\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n          </motion.div>\n        ))}\n\n        {/* Loading Indicator */}\n        {isLoading && (\n          <motion.div \n            initial={{ opacity: 0 }} \n            animate={{ opacity: 1 }} \n            className=\"flex gap-3\"\n          >\n            <div className=\"w-8 h-8 rounded-full bg-violet-100 flex items-center justify-center\">\n              <Sparkles className=\"w-5 h-5 text-violet-600\" />\n            </div>\n            <div className=\"bg-white p-4 rounded-2xl rounded-tl-none border border-slate-100 flex gap-1 items-center h-12\">\n              <span className=\"w-2 h-2 bg-violet-400 rounded-full animate-bounce [animation-delay:-0.3s]\" />\n              <span className=\"w-2 h-2 bg-violet-400 rounded-full animate-bounce [animation-delay:-0.15s]\" />\n              <span className=\"w-2 h-2 bg-violet-400 rounded-full animate-bounce\" />\n            </div>\n          </motion.div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input Area */}\n      <div className=\"bg-white border-t border-slate-100 p-4\">\n        {isDemo && (\n           <div className=\"mb-4 p-3 bg-violet-50 border border-violet-100 rounded-xl flex items-center justify-between gap-4 sm:hidden\">\n              <span className=\"text-sm text-violet-900 font-medium\">Gillar du resultatet?</span>\n              <button \n                onClick={() => onSignupClick ? onSignupClick() : window.location.href = `/signup?companyId=${companyId}`}\n                className=\"px-3 py-1.5 bg-violet-600 text-white text-xs font-bold rounded-lg whitespace-nowrap\"\n              >\n                Installera nu\n              </button>\n           </div>\n        )}\n        \n        <form \n          onSubmit={handleSendMessage}\n          className=\"flex gap-2\"\n        >\n          <input\n            type=\"text\"\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            placeholder=\"Fråga NORA om din hemsida...\"\n            className=\"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all placeholder:text-slate-400\"\n            autoFocus\n          />\n          <button\n            type=\"submit\"\n            disabled={!inputValue.trim() || isLoading}\n            className=\"p-3 bg-violet-600 text-white rounded-xl hover:bg-violet-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-violet-200\"\n          >\n            <Send className=\"w-5 h-5\" />\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 942, "column": 0}, "map": {"version":3,"sources":["file:///Users/christofferwallman/Desktop/Utveckling/NORAV1.2/src/components/DemoPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { OnboardingLoader } from './OnboardingLoader';\nimport { ChatInterface } from './ChatInterface';\nimport { ArrowRight, CheckCircle } from 'lucide-react';\nimport Link from 'next/link';\n\nexport const DemoPage = () => {\n  const [step, setStep] = useState<'input' | 'loading' | 'chat'>('input');\n  const [url, setUrl] = useState('');\n  const [companyId, setCompanyId] = useState('');\n  const [scrapedPageCount, setScrapedPageCount] = useState<number | null>(null);\n\n  const handleStartAnalysis = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!url) return;\n    \n    // Generera ett ID och byt state\n    const newCompanyId = `demo-${Date.now()}`;\n    setCompanyId(newCompanyId);\n    setStep('loading');\n    setScrapedPageCount(null); // Reset\n\n    try {\n      const response = await fetch('/api/ingest', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ url, companyId: newCompanyId }),\n      });\n\n      if (!response.body) return;\n\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let buffer = '';\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        buffer += decoder.decode(value, { stream: true });\n        \n        // Hantera att flera JSON-objekt kan komma i samma chunk eller vara uppdelade\n        const lines = buffer.split('\\n');\n        buffer = lines.pop() || ''; // Spara det som inte är en komplett rad än\n\n        for (const line of lines) {\n          if (!line.trim()) continue;\n          try {\n            const data = JSON.parse(line);\n            if (data.type === 'scraped') {\n              console.log(\"Found pages:\", data.count);\n              setScrapedPageCount(data.count);\n            } else if (data.type === 'complete') {\n              console.log(\"Analysis complete\");\n              // Vi låter OnboardingLoader sköta övergången via onReady när animationen är klar\n            }\n          } catch (e) {\n            console.error(\"Error parsing stream JSON\", e);\n          }\n        }\n      }\n    } catch (error) {\n      console.error(\"Failed to start analysis\", error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 relative\">\n      \n      {step === 'input' && (\n        <div className=\"max-w-md w-full text-center space-y-6\">\n          <h1 className=\"text-4xl font-bold text-slate-900 tracking-tight\">\n            Möt NORA.\n          </h1>\n          <p className=\"text-slate-500\">\n            Skriv in din URL så bygger hon en kunskapsbas och startar en chatt med dig på 30 sekunder.\n          </p>\n          \n          <form onSubmit={handleStartAnalysis} className=\"flex flex-col gap-3\">\n            <input \n              type=\"url\" \n              required\n              placeholder=\"https://dittföretag.se\" \n              value={url}\n              onChange={e => setUrl(e.target.value)}\n              className=\"w-full px-4 py-3 rounded-lg border border-slate-200 focus:ring-2 focus:ring-violet-500 focus:outline-none\"\n            />\n            <button \n              type=\"submit\"\n              className=\"w-full py-3 bg-violet-600 text-white rounded-lg font-medium hover:bg-violet-700 transition-colors flex items-center justify-center gap-2\"\n            >\n              Starta analys <ArrowRight className=\"w-4 h-4\" />\n            </button>\n          </form>\n        </div>\n      )}\n\n      {/* \n        Vi renderar alltid ChatInterface när vi har lämnat 'input'-stadiet, \n        men vi döljer den med CSS (display: none) tills step === 'chat'.\n        Detta gör att komponenten \"laddas i bakgrunden\" och är redo direkt.\n      */}\n      {step !== 'input' && (\n        <>\n           <div className={step === 'chat' ? 'w-full max-w-4xl flex flex-col md:flex-row gap-8 items-start animate-fade-in-up' : 'hidden'}>\n              \n              {/* Vänster kolumn: Säljsnack & CTA */}\n              <div className=\"flex-1 space-y-6 pt-4 hidden md:block\">\n                <h2 className=\"text-3xl font-bold text-slate-900 leading-tight\">\n                  Imponerad?<br/>\n                  Gör NORA till din egen.\n                </h2>\n                <p className=\"text-slate-600 text-lg\">\n                  Du har precis sett hur enkelt det är. Installera NORA på din hemsida idag och börja samla leads automatiskt dygnet runt.\n                </p>\n                \n                <ul className=\"space-y-3\">\n                   {[\n                     \"Tar 60 sekunder att installera\",\n                     \"Anpassa färger och logotyp\",\n                     \"Samla in namn och nummer automatiskt\",\n                     \"Träna henne med mer information\"\n                   ].map((item, i) => (\n                     <li key={i} className=\"flex items-center gap-3 text-slate-700\">\n                        <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                        {item}\n                     </li>\n                   ))}\n                </ul>\n\n                <Link \n                  href={`/signup?companyId=${companyId}&url=${encodeURIComponent(url)}`}\n                  className=\"inline-flex items-center justify-center w-full py-4 bg-violet-600 text-white rounded-xl font-bold text-lg hover:bg-violet-700 hover:shadow-lg hover:shadow-violet-200 transition-all transform hover:-translate-y-1\"\n                >\n                  Skapa gratis konto <ArrowRight className=\"ml-2 w-5 h-5\" />\n                </Link>\n                <p className=\"text-center text-xs text-slate-400\">Inga kreditkort krävs för start.</p>\n              </div>\n\n              {/* Höger kolumn: Chatten */}\n              <div className=\"flex-1 w-full\">\n                  <ChatInterface \n                    companyId={companyId} \n                    onSignupClick={() => window.location.href = `/signup?companyId=${companyId}&url=${encodeURIComponent(url)}`}\n                  />\n                  \n                  {/* Mobil CTA (visas under chatten på små skärmar) */}\n                  <div className=\"md:hidden mt-6 text-center space-y-4\">\n                    <h3 className=\"text-xl font-bold text-slate-900\">Redo att köra live?</h3>\n                    <Link \n                      href={`/signup?companyId=${companyId}&url=${encodeURIComponent(url)}`}\n                      className=\"block w-full py-3 bg-violet-600 text-white rounded-lg font-bold\"\n                    >\n                      Skapa konto nu\n                    </Link>\n                  </div>\n              </div>\n\n           </div>\n           \n           {step === 'loading' && (\n             <OnboardingLoader \n               url={url} \n               scrapedPageCount={scrapedPageCount}\n               onReady={() => setStep('chat')} \n             />\n           )}\n        </>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1257, "column": 0}, "map": {"version":3,"sources":["file:///Users/christofferwallman/Desktop/Utveckling/NORAV1.2/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { DemoPage } from '@/components/DemoPage';\n\nexport default function Home() {\n  return (\n    <main>\n      <DemoPage />\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKe,SAAS;IACtB,qBACE,6LAAC;kBACC,cAAA,6LAAC,6IAAQ;;;;;;;;;;AAGf;KANwB"}}]
}